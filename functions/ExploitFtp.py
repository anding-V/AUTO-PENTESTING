

import re
import subprocess
import os

def is_valid_ip(ip):
    # Vérifie si l'adresse IP est valide en utilisant une expression régulière
    ip_regex = r"^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$"
    return re.match(ip_regex, ip) is not None

def exploit_ftp():
    # Demande à l'utilisateur de saisir une adresse IP
    target = input("Veuillez entrer une adresse IP : ")

    # Vérifie si l'adresse IP est valide
    if not is_valid_ip(target):
        print("Adresse IP invalide.")
        return

    # Récupère le chemin complet vers le script Bash
    bash_script_path = os.path.join(os.path.dirname(__file__), '..', 'bash-scripts', 'ftp_exploits.sh')

    # Appelle le script Bash avec l'adresse IP en tant qu'argument
    try:
        subprocess.run([bash_script_path, target], check=True)
    except subprocess.CalledProcessError:
        print("Une erreur s'est produite lors de l'exécution du script Bash.")

if __name__ == "__main__":
    exploit_ftp()
