import nmap
from colorama import Fore, Style

def port_scan(target):
    nm = nmap.PortScanner()
    nm.scan(hosts=target, arguments='-A  -Pn -T5')

    for host in nm.all_hosts():
        print(f"{'-'*40}\nHost Information:\n{'-'*40}")
        print(f"IP: {host}")
        if 'tcp' in nm[host]:
            ports = nm[host]['tcp'].keys()
            print(f"Open Ports: {', '.join(str(port) for port in ports)}")
            for port in ports:
                if 'product' in nm[host]['tcp'][port]:
                    product = nm[host]['tcp'][port]['product']
                    version = nm[host]['tcp'][port]['version']
                    print(f"Port {port}: {product} ({version})")
                else:
                    print(f"Port {port}: Unknown Service")
        else:
            print("No open ports found.")
    print(f"{'-' * 50} SCAN DONE{'-' * 50}")

if __name__ == "__main__":
    target_ip = input("Enter the target IP address: ")
    port_scan(target_ip)
